import{r as c,j as e,u as S}from"./index-CyolkGpJ.js";import{N as I}from"./Navbar-aE7D9-Vr.js";import{b as Y,a as j,c as w}from"./TechOne-DmgfUmbw.js";import{G as C}from"./GlowDot-BU6ItMC3.js";import{P as x,T as D}from"./Transitions-CnFsZNNI.js";import{C as X}from"./chevron-up-BOORqogL.js";import{C as A}from"./chevron-down-DrJIkMRl.js";import{C as P}from"./chevron-right-CS9B7gN4.js";import"./x-DhKHpqki.js";import"./createLucideIcon-a2mSqa_z.js";function z(){const o=c.useRef(null);return e.jsx("section",{ref:o,className:"relative h-screen w-full bg-cover bg-center",style:{backgroundImage:`url(${Y})`}})}const F="https://raw.githubusercontent.com/Yejoon1025/rise-content/main/Content.json";function U(){const o=c.useRef(null),[s,r]=c.useState(null);c.useEffect(()=>{let h=!0;return fetch(F).then(f=>{if(!f.ok)throw new Error("Failed to load Content.json");return f.json()}).then(f=>{h&&r(f)}).catch(f=>{console.error("Error loading Content.json:",f)}),()=>{h=!1}},[]);const n=s?.Tech6??"",i=s?.Tech7??"",u=s?.Tech8??"",d=s?.Tech6Title??"",a=s?.Tech7Title??"",m=s?.Tech8Title??"";return e.jsxs("section",{ref:o,className:"relative h-screen w-full bg-cover bg-center",style:{backgroundImage:`url(${j})`},children:[e.jsx("div",{className:"h-screen w-full flex justify-center relative",children:e.jsx("h2",{className:"absolute top-[80%] right-[10%] font-bahnschrift text-4xl md:text-6xl text-[#f8da9c] px-6 text-center",children:"Our Process Is"})}),e.jsxs(C,{baseRef:o,openStrategy:"next",threshold:.3,children:[e.jsx(x,{containerRef:o,imageSrc:j,normX:.41,normY:.1,title:d,text:n,dotId:"t2-1",defaultOffsetX:-100,defaultOffsetY:200,boxNumber:"1"}),e.jsx(x,{containerRef:o,imageSrc:j,normX:.7,normY:.35,title:a,text:i,dotId:"t2-2",defaultOffsetX:-100,defaultOffsetY:-100,boxNumber:"2"}),e.jsx(x,{containerRef:o,imageSrc:j,normX:.2,normY:.7,title:m,text:u,dotId:"t2-3",defaultOffsetX:-100,defaultOffsetY:-100,boxNumber:"3"})]})]})}function $(){return e.jsx("div",{className:"h-full w-full flex items-center justify-center",children:e.jsx("h1",{className:"font-bahnschrift text-4xl md:text-6xl text-[#e0e0e0] px-6 text-center leading-tight",children:"Our Technology"})})}const _="https://raw.githubusercontent.com/Yejoon1025/rise-content/main/Content.json";function G({containerRef:o}){const s=o,[r,n]=c.useState(null);c.useEffect(()=>{let b=!0;return fetch(_).then(p=>{if(!p.ok)throw new Error("Failed to load Content.json");return p.json()}).then(p=>{b&&n(p)}).catch(p=>{console.error("Error loading Content.json:",p)}),()=>{b=!1}},[]);const i=r?.Tech1??"",u=r?.Tech2??"",d=r?.Tech3??"",a=r?.Tech4??"",m=r?.Tech5??"",h=r?.Tech1Title??"",f=r?.Tech2Title??"",T=r?.Tech5Title??"";return e.jsxs("div",{className:"h-full w-full flex items-center justify-center",children:[e.jsx("h2",{className:"font-bahnschrift text-4xl md:text-6xl text-[#f8da9c] px-6 text-center z-20",children:"In Simple Terms, We:"}),e.jsxs(C,{baseRef:s,openStrategy:"next",threshold:.3,children:[e.jsx(x,{containerRef:s,imageSrc:w,normX:.7,normY:.35,title:h,text:i,dotId:"t1-1",defaultOffsetX:-100,defaultOffsetY:-100,boxNumber:"1"}),e.jsx(x,{containerRef:s,imageSrc:w,normX:.35,normY:.3,title:f,text:u,dotId:"t1-2",defaultOffsetX:-100,defaultOffsetY:-150,boxNumber:"2"}),e.jsx(x,{containerRef:s,imageSrc:w,normX:.8,normY:.68,title:T,text:m,dotId:"t1-3",defaultOffsetX:-100,defaultOffsetY:-100,boxNumber:"3"}),e.jsx(x,{containerRef:s,imageSrc:w,normX:.35,normY:.3,text:d,dotId:"t1-4",defaultOffsetX:-300,defaultOffsetY:230}),e.jsx(x,{containerRef:s,imageSrc:w,normX:.35,normY:.3,text:a,dotId:"t1-5",defaultOffsetX:100,defaultOffsetY:230})]})]})}const M={...D},k={screen1:{down:"crossFade"},screen2:{up:"crossFade"}},q=[{id:1,label:"Chemical Process",target:1},{id:2,label:"Competitive Advantages",target:2}],K={1:"crossFade",2:"crossFade"},O=1500;function W(){const o=c.useRef(!1),[s,r]=c.useState(!1),n=c.useCallback((i=O)=>{if(o.current)return null;o.current=!0,r(!0);let u=!1;const d=()=>{u||(u=!0,o.current=!1,r(!1))},a=setTimeout(d,i+200);return()=>{clearTimeout(a),d()}},[]);return{isAnimating:s,start:n}}function N({moverEl:o,direction:s="down",brightEl:r,onDone:n}){if(!o){n&&n();return}o.classList.add("transition-transform","duration-700","ease-out"),r&&(r.classList.add("transition-opacity","duration-700","ease-out"),s==="down"?(r.classList.remove("opacity-0"),r.classList.add("opacity-100")):(r.classList.remove("opacity-100"),r.classList.add("opacity-0"))),requestAnimationFrame(()=>{s==="down"?(o.classList.remove("translate-y-0"),o.classList.add("-translate-y-full")):(o.classList.remove("-translate-y-full"),o.classList.add("translate-y-0"))});let i=!1;const u=()=>{i||(i=!0,n&&n())};o.addEventListener("transitionend",u,{once:!0}),setTimeout(u,O+200)}function R({name:o,fromEl:s,toEl:r,onDone:n}){const i=M?.[o];if(typeof i!="function"){r?.classList.remove("hidden"),s?.classList.add("hidden"),n&&n();return}let u=!1;const d=()=>{u||(u=!0,n&&n())},a=setTimeout(d,O+400);i({fromRef:s,toRef:r,onDone:()=>{clearTimeout(a),d()}})}function re(){const o=S(),s=c.useRef(null),r=c.useRef(null),n=c.useRef(null),i=c.useRef(null),u=c.useRef(null),d=c.useRef(null),[a,m]=c.useState(0),{isAnimating:h,start:f}=W();function T(t){return t===0||t===1?s.current:t===2?u.current:null}function b(){s.current?.classList.remove("hidden"),r.current?.classList.remove("hidden"),i.current?.classList.add("-translate-y-full"),i.current?.classList.remove("translate-y-0"),n.current?.classList.add("opacity-100"),n.current?.classList.remove("opacity-0")}const p=c.useCallback(t=>{if(![1,2].includes(t)||t===a)return;const l=f();if(!l)return;const y=T(a);if(a===0&&t===1){N({moverEl:i.current,brightEl:n.current,direction:"down",onDone:()=>{m(1),l()}});return}const v=T(t);t===1&&b();const E=K[t]||"slideIn";v?.classList.remove("hidden"),R({name:E,fromEl:y,toEl:v,onDone:()=>{t!==2&&u.current?.classList.add("hidden"),t!==1&&s.current?.classList.add("hidden"),m(t),l()}})},[a,f]);c.useEffect(()=>{s.current?.classList.remove("hidden"),r.current?.classList.remove("hidden"),u.current?.classList.add("hidden"),n.current&&(n.current.classList.add("opacity-0"),n.current.classList.remove("opacity-100")),i.current&&(i.current.classList.add("translate-y-0"),i.current.classList.remove("-translate-y-full")),d.current?.focus()},[]);const g=c.useCallback(()=>{const t=f();if(t){if(a===0){N({moverEl:i.current,brightEl:n.current,direction:"down",onDone:()=>{m(1),t()}});return}if(a===1){n.current&&(n.current.classList.add("transition-opacity","duration-700","ease-out"),n.current.classList.remove("opacity-100"),n.current.classList.add("opacity-0")),R({name:k.screen1.down,fromEl:s.current,toEl:u.current,onDone:()=>{m(2),t()}});return}t()}},[a,f]),L=c.useCallback(()=>{const t=f();if(t){if(a===2){i.current&&(i.current.classList.add("-translate-y-full"),i.current.classList.remove("translate-y-0")),n.current&&(n.current.classList.add("transition-opacity","duration-700","ease-out"),n.current.classList.remove("opacity-0"),n.current.classList.add("opacity-100")),R({name:k.screen2.up,fromEl:u.current,toEl:s.current,onDone:()=>{m(1),t()}});return}if(a===1){N({moverEl:i.current,brightEl:n.current,direction:"up",onDone:()=>{m(0),t()}});return}t()}},[a,f]);return c.useEffect(()=>{function t(l){h||((l.key==="ArrowDown"||l.key==="PageDown")&&(l.preventDefault(),g()),(l.key==="ArrowUp"||l.key==="PageUp")&&(l.preventDefault(),L()),l.key==="ArrowRight"&&a===2&&(l.preventDefault(),o("/team")))}return d.current,window.addEventListener("keydown",t,{passive:!1}),()=>{window.removeEventListener("keydown",t)}},[g,L,h]),c.useEffect(()=>{function t(v){h&&(v.preventDefault(),v.stopPropagation(),typeof v.stopImmediatePropagation=="function"&&v.stopImmediatePropagation())}const l={capture:!0},y={capture:!0,passive:!1};return window.addEventListener("keydown",t,l),window.addEventListener("keypress",t,l),window.addEventListener("keyup",t,l),window.addEventListener("wheel",t,y),window.addEventListener("touchmove",t,y),()=>{window.removeEventListener("keydown",t,l),window.removeEventListener("keypress",t,l),window.removeEventListener("keyup",t,l),window.removeEventListener("wheel",t,y),window.removeEventListener("touchmove",t,y)}},[h]),e.jsxs("div",{ref:d,tabIndex:0,className:"fixed inset-0 bg-[#0c1a22] text-white outline-none","aria-label":"Transitions Pager","aria-busy":h?"true":"false",children:[e.jsx(I,{}),e.jsxs("div",{ref:s,className:"fixed inset-0",children:[e.jsx("div",{ref:r,className:"fixed inset-0",children:e.jsx(z,{})}),e.jsx("img",{ref:n,src:w,alt:"","aria-hidden":"true",className:"fixed inset-0 z-30 h-full w-full object-cover opacity-0 pointer-events-none select-none",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 z-40 h-screen w-full overflow-hidden select-none pointer-events-auto",children:e.jsxs("div",{ref:i,className:"absolute inset-0 will-change-transform transition-transform duration-700 ease-out translate-y-0",children:[e.jsx("div",{className:"relative h-screen w-full",children:e.jsx($,{})}),e.jsx("div",{className:"relative h-screen w-full",children:e.jsx(G,{containerRef:i})})]})})]}),e.jsx("div",{ref:u,className:"fixed inset-0 hidden",children:e.jsx(U,{})}),e.jsx("div",{className:"absolute top-1/2 right-8 -translate-y-1/2 flex flex-col gap-6 z-[60]",children:q.map(t=>{const l=a===0?null:a;return e.jsxs("div",{className:"relative group flex items-center",children:[e.jsx("span",{className:"absolute right-8 opacity-0 group-hover:opacity-100 transition-opacity text-sm text-white whitespace-nowrap",children:t.label}),e.jsx("button",{onClick:()=>p(t.target),"aria-label":t.label,className:`w-4 h-4 rounded-full border-2 border-white transition-colors ${l===t.target?"bg-white":"bg-transparent"}`})]},t.id)})}),e.jsx("div",{className:`absolute bottom-16 right-5 z-[60] group transition-opacity duration-700 flex items-center ${a===0?"opacity-0 pointer-events-none":"opacity-100"}`,children:e.jsx("button",{onClick:()=>L(),"aria-label":"Up",className:"p-2 hover:opacity-80 transition-opacity",children:e.jsx(X,{className:"text-white",size:32})})}),e.jsx("div",{className:`absolute bottom-8 right-5 z-[60] group transition-opacity duration-700 flex items-center ${a===2?"opacity-0 pointer-events-none":"opacity-100"}`,children:e.jsx("button",{onClick:()=>g(),"aria-label":"Down",className:"p-2 hover:opacity-80 transition-opacity",children:e.jsx(A,{className:"text-white",size:32})})}),e.jsxs("div",{className:`absolute bottom-8 right-5 z-[60] group transition-opacity duration-700 flex items-center ${a===2?"opacity-100":"opacity-0 pointer-events-none"}`,children:[e.jsx("span",{className:"absolute right-12 opacity-0 group-hover:opacity-100 transition-opacity text-sm text-white whitespace-nowrap",children:"Learn more about our team"}),e.jsx("button",{onClick:()=>o("/team"),"aria-label":"Continue",className:"p-2 hover:opacity-80 transition-opacity",children:e.jsx(P,{className:"text-white",size:32})})]})]})}export{re as default};
