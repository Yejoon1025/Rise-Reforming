import{r,j as o}from"./index-xgRfC_2s.js";import{b as oe,o as Ie,n as Ae}from"./NewsItems-D52xCUVj.js";import{C as $e}from"./chevron-down-CHx_c1Kg.js";import{C as Me}from"./chevron-up-DFCHPO_P.js";import{c as ze}from"./createLucideIcon-Bdy4MBfD.js";import{N as _e}from"./Navbar-B49TRRBv.js";import"./index-COaPiP8k.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],Be=ze("chevrons-up",Pe),De=768,F=24,He=16,M=1.25;function Ye({items:i=[],backgroundUrl:c,overlayUrl:u,color:d="#3ca6a6",progressColor:v,dotSize:g=12,cardWidth:y=420,className:R="",pushFactor:_=.47}){const w=r.useRef(null),b=r.useRef([]),P=r.useRef(null),[ie,ce]=r.useState(0),[V,ae]=r.useState(y),[ue,q]=r.useState(0),[B,le]=r.useState(0),[de,fe]=r.useState(0),m=r.useRef(!1),f=r.useRef(null),[We,he]=r.useState(!1),[j,me]=r.useState(!0),[D,H]=r.useState(!1),[pe,ge]=r.useState(!1);r.useRef(0);const Z=r.useRef(0),S=r.useRef(0),k=r.useRef(0),p=r.useRef(null),we=r.useRef(null),[be,K]=r.useState(!1),E=r.useRef(null),[x,xe]=r.useState(!1),Y=Fe(g,F),ve=.22,Te=.28,X=v||d,C=6,J=2,ye=36;r.useEffect(()=>()=>{E.current&&clearTimeout(E.current)},[]),r.useEffect(()=>{if(!P.current)return;const e=P.current,t=new ResizeObserver(s=>{const a=s[0].contentRect;q(a.height||0)});t.observe(e);const n=e.getBoundingClientRect();return q(n.height||0),()=>t.disconnect()},[V,i.length]),r.useEffect(()=>{function e(){const t=w.current,n=window.innerHeight;if(!t||!n)return;const s=t.getBoundingClientRect(),a=Math.max(0,t.scrollHeight-n),l=W(-s.top,0,a),h=n/2,T=Math.max(0,h-l);le(T),fe(Math.max(0,Math.min(h,h-T)));const I=window.innerWidth,A=I<De;xe(A),ae(Ue(I,y,{isNarrow:A,mobileLeftReserve:Y,rightGutter:He})),he(window.scrollY>100);const $=window.scrollY<=J;me($),$&&D&&H(!1);const ke=document.documentElement,Ce=window.innerHeight+window.scrollY>=ke.scrollHeight-2;ge(Ce),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{m.current=!1;const re=p.current;if(Number.isInteger(re)){p.current=null,N(re);return}const Le=se(b.current,n);Ee(Le,n)},140)}return e(),window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),f.current&&clearTimeout(f.current)}},[y,D,Y]),r.useEffect(()=>{const e=t=>{const n=t.key;if(n!=="ArrowDown"&&n!=="PageDown"&&n!=="ArrowUp"&&n!=="PageUp")return;const s=w.current?.getBoundingClientRect();if(!(s&&s.top<window.innerHeight&&s.bottom>0)||(t.preventDefault(),m.current))return;const l=s.top>C,h=Math.abs(s.top)<=C;return n==="ArrowUp"||n==="PageUp"?h?O(!0):L(-1):l?Q(s.top):L(1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[i.length]),r.useRef(0),r.useRef(0),r.useEffect(()=>{const e=t=>{t.preventDefault()};return window.addEventListener("wheel",e,{passive:!1}),()=>window.removeEventListener("wheel",e)},[]),r.useEffect(()=>{const e=w.current;if(!e)return;const t=a=>{G(w.current)&&(Z.current=a.touches[0]?.clientY||0,S.current=0)},n=a=>{if(!G(w.current))return;if(m.current){a.preventDefault();return}const l=a.touches[0]?.clientY||0;S.current=Z.current-l,a.preventDefault()},s=()=>{if(!G(w.current)||m.current)return;const a=S.current;if(S.current=0,Math.abs(a)<ye)return;const l=w.current.getBoundingClientRect(),h=l.top>C,T=Math.abs(l.top)<=C;return a>0?h?Q(l.top):L(1):T?O(!0):L(-1)};return e.addEventListener("touchstart",t,{passive:!0}),e.addEventListener("touchmove",n,{passive:!1}),e.addEventListener("touchend",s,{passive:!0}),e.addEventListener("touchcancel",s,{passive:!0}),()=>{e.removeEventListener("touchstart",t),e.removeEventListener("touchmove",n),e.removeEventListener("touchend",s),e.removeEventListener("touchcancel",s)}},[i.length]),r.useEffect(()=>{if(!b.current.length)return;const e=new IntersectionObserver(t=>{for(const n of t){if(!n.isIntersecting)continue;const s=Number(n.target.getAttribute("data-idx"));Number.isNaN(s)||(m.current?p.current=s:N(s))}},{root:null,rootMargin:"-48% 0px -48% 0px",threshold:[.01]});return b.current.forEach((t,n)=>{t&&(t.setAttribute("data-idx",String(n)),e.observe(t))}),we.current=e,()=>e.disconnect()},[i.length]);function Q(e){K(!0),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>K(!1),900),m.current=!0,window.scrollTo({top:window.scrollY+e,behavior:"smooth"}),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{m.current=!1},420)}function L(e){const t=window.innerHeight,n=se(b.current,t),s=W(n+e,0,i.length-1);if(s===n)return;const a=b.current[s];if(!a)return;m.current=!0;const l=window.scrollY+a.getBoundingClientRect().top;p.current=s,window.scrollTo({top:l,behavior:"smooth"}),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{m.current=!1;const h=Number.isInteger(p.current)?p.current:s;p.current=null,N(h)},420)}function O(e=!1){e&&H(!0),m.current=!0,p.current=0,window.scrollTo({top:0,behavior:"smooth"}),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{m.current=!1;const t=Number.isInteger(p.current)?p.current:0;p.current=null,N(t),e&&window.scrollY>J&&H(!1)},500)}function ee(e){const t=new KeyboardEvent("keydown",{key:e,code:e,bubbles:!0});window.dispatchEvent(t)}function Re(){ee("ArrowUp")}function Ne(){ee("ArrowDown")}function N(e){if(e===k.current){te(e);return}k.current=e,ce(e),requestAnimationFrame(()=>te(e))}function te(e){const t=b.current[e];if(!t)return;let n=t.querySelector("[data-card]")||t.querySelector('a[href],button,textarea,input,select,[tabindex]:not([tabindex="-1"])');n||(n=t),n.getAttribute&&n.getAttribute("tabindex")===null&&n.tagName==="DIV"&&n.setAttribute("tabindex","0");try{n.focus({preventScroll:!0})}catch{n.focus()}}function Ee(e,t){const n=t/2,s=b.current[k.current],a=b.current[e];if(!a)return N(e);const l=Math.abs(z(a)-n),h=s?Math.abs(z(s)-n):1/0,T=t/2*ve;l+T<h&&N(e)}function je(e){const t=window.innerHeight,n=b.current[e];if(!t||!n)return e===k.current;const s=t/2;return Math.abs(z(n)-s)<=t/2*Te}const U="left-1/2 -translate-x-1/2",ne={left:F},Se={left:F+M/2};return o.jsxs("section",{ref:w,className:`relative z-10 w-full ${R}`,style:{backgroundImage:`url(${c})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},"aria-label":"Timeline",children:[u?o.jsx("img",{src:u,alt:"Bright","aria-hidden":!0,className:`fixed inset-0 h-screen w-screen object-cover pointer-events-none z-0 transition-opacity duration-700 ease-in-out ${j?"opacity-0":"opacity-100"}`}):null,o.jsx("div",{className:"pointer-events-none absolute inset-0",children:o.jsxs("div",{className:"sticky top-0 h-screen w-full",children:[o.jsx("div",{className:`absolute bg-[#374151] ${x?"":U}`,style:{...x?ne:{},top:B,height:`calc(100vh - ${B}px)`,width:`${M}px`},"aria-hidden":!0}),o.jsx("div",{className:`absolute ${x?"":U}`,style:{...x?ne:{},...x?{bottom:"50%"}:{top:B},height:de,width:`${M}px`,background:X,boxShadow:`0 0 10px ${Oe(X,.55)}`},"aria-hidden":!0}),o.jsxs("div",{className:`absolute top-1/2 -translate-y-1/2 ${x?"-translate-x-1/2":U}`,style:{...x?Se:{},width:g,height:g},"aria-hidden":!0,children:[o.jsx("div",{className:"absolute -inset-2 rounded-full blur-md opacity-70 animate-pulse pointer-events-none z-10",style:{backgroundColor:d}}),o.jsx("div",{className:"absolute inset-0 rounded-full shadow-[0_0_6px_1px_rgba(0,0,0,0.25)] z-20",style:{backgroundColor:d}})]})]})}),o.jsx("div",{role:"list",children:i.map((e,t)=>{const n=je(t)||t===0&&be,s=t===ie,a=e.href?"a":"div",l=e.href?{href:e.href,target:e.target||"_blank",rel:"noopener noreferrer","aria-label":e.ariaLabel||`Open ${e.title||e.date}`}:{},h=t===0,T=W(_,0,1),A=h&&(j||D)?ue*T:0;return o.jsx("article",{ref:$=>b.current[t]=$,role:"listitem",className:"min-h-screen w-full","data-idx":t,children:o.jsxs("div",{className:"grid min-h-screen w-full items-center md:grid-cols-2",style:x?{paddingLeft:Y}:void 0,children:[o.jsx("div",{className:"hidden md:flex justify-end pr-8",children:o.jsx("time",{className:`select-none font-sans text-xl md:text-2xl transition-opacity z-20 ${n?"text-white/80":"text-white/50"}`,children:e.date})}),o.jsx("div",{className:"md:pl-8",children:o.jsxs(a,{...l,ref:h?P:null,"data-card":!0,"aria-current":s?"step":void 0,tabIndex:s?0:-1,className:`block rounded-2xl bg-[#0c1a22]/85 text-[#e0e0e0] shadow-xl backdrop-blur-sm px-4 py-3 select-none
                                transition-[opacity,transform] duration-300 will-change-transform
                                outline-none ring-0 focus:outline-none focus:ring-0 focus-visible:outline-none focus-visible:ring-0
                                ${n?"opacity-100":"opacity-70"}
                                ${e.href?"cursor-pointer hover:opacity-100 focus:opacity-100":""}`,style:{width:V,transform:`translateY(${A}px)`,WebkitTapHighlightColor:"transparent"},children:[x&&e.date?o.jsx("time",{className:"block mb-1 text-sm font-medium tracking-wide text-white/70",children:e.date}):null,e.title?o.jsx("h3",{className:"mb-2 font-bahnschrift text-2xl md:text-3xl text-[#f8da9c]",children:e.title}):null,o.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl leading-snug",children:e.body}),e.href?o.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Click to learn more"}):null,e.image?.src?o.jsx("img",{src:e.image.src,alt:e.image.alt||"",loading:"lazy",className:"mt-3 w-full h-auto rounded-2xl object-cover"}):null]})})]})},e.id||t)})}),o.jsx("button",{type:"button",onClick:()=>Ne(),"aria-label":"Down",className:`fixed bottom-8 right-5 z-50 text-white/80 transition-opacity duration-200
                    ${pe?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"} 
                    hover:text-white focus:outline-none focus:ring-0`,style:{background:"transparent",border:"none"},children:o.jsx($e,{className:"","aria-hidden":!0,size:32})}),o.jsx("button",{type:"button",onClick:()=>Re(),"aria-label":"Up",className:`fixed bottom-16 right-5 z-50 text-white/80 transition-opacity duration-200
                    ${j?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"} 
                    hover:text-white focus:outline-none focus:ring-0`,style:{background:"transparent",border:"none"},children:o.jsx(Me,{className:"","aria-hidden":!0,size:32})}),o.jsx("button",{type:"button",onClick:()=>O(!0),"aria-label":"Back to top",className:`fixed bottom-24 right-5 z-50 text-white/80 transition-opacity duration-200
                    ${j?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"} 
                    hover:text-white focus:outline-none focus:ring-0`,style:{background:"transparent",border:"none"},children:o.jsx(Be,{className:"","aria-hidden":!0,size:32})})]})}function W(i,c,u){return Math.max(c,Math.min(u,i))}function z(i){const c=i.getBoundingClientRect();return c.top+c.height/2}function se(i,c){const u=c/2;let d=0,v=1/0;return i.forEach((g,y)=>{if(!g)return;const R=Math.abs(z(g)-u);R<v&&(v=R,d=y)}),d}function Oe(i,c=1){const u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);if(!u)return`rgba(64,213,209,${c})`;const d=parseInt(u[1],16),v=parseInt(u[2],16),g=parseInt(u[3],16);return`rgba(${d},${v},${g},${c})`}function Ue(i,c,u={}){const{isNarrow:d=!1,mobileLeftReserve:v=0,rightGutter:g=16}=u,y=32,R=M;if(d){const w=Math.max(220,i-v-g);return Math.min(c,w)}const _=Math.max(220,i/2-y-R);return Math.min(c,_)}function Fe(i,c){return c+i/2+8+12}function G(i){if(!i)return!1;const c=i.getBoundingClientRect();return c.top<window.innerHeight&&c.bottom>0}function Qe(){const i=r.useRef(null),[c,u]=r.useState(!0);return r.useEffect(()=>{const d=()=>{window.scrollY>0?u(!1):u(!0)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),o.jsxs("div",{className:"min-h-screen w-full relative",style:{backgroundImage:`url(${oe})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[o.jsx("header",{className:"relative z-30 transition-opacity duration-500",style:{opacity:c?1:0},children:o.jsx(_e,{})}),o.jsx("section",{className:"relative z-20 flex min-h-[40vh] items-center justify-center px-6",children:o.jsx("h1",{className:"font-bahnschrift text-4xl md:text-6xl text-[#e0e0e0] px-6 text-center leading-tight absolute top-[30vh]",children:"The Rise Reforming Timeline"})}),o.jsx("section",{ref:i,className:"relative z-10",children:o.jsx(Ye,{items:Ae,backgroundUrl:oe,overlayUrl:Ie,color:"#3ca6a6",dotSize:12,cardWidth:420})})]})}export{Qe as default};
