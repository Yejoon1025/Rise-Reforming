import{r as p,j as F}from"./index-BhjPLE3a.js";import{a as T}from"./GlowDot-VU7tabr3.js";function w({containerRef:t,imageSrc:s,normX:e,normY:i}){const[a,n]=p.useState({w:0,h:0}),[r,l]=p.useState({w:0,h:0}),E=p.useRef(null);p.useEffect(()=>{if(!s)return;const y=new Image;y.onload=()=>n({w:y.naturalWidth,h:y.naturalHeight}),y.src=s},[s]),p.useEffect(()=>{const y=t?.current;if(!y)return;const o=new ResizeObserver(g=>{const v=g[0]?.contentRect;v&&l({w:Math.round(v.width),h:Math.round(v.height)})});o.observe(y),E.current=o;const u=y.getBoundingClientRect();return l({w:Math.round(u.width),h:Math.round(u.height)}),()=>o.disconnect()},[t]);const{top:m,left:x,ready:d}=p.useMemo(()=>{const{w:y,h:o}=a,{w:u,h:g}=r;if(!y||!o||!u||!g)return{top:0,left:0,ready:!1};const v=Math.max(u/y,g/o),z=y*v,L=o*v,$=(u-z)/2,I=(g-L)/2,C=$+e*z;return{top:I+i*L,left:C,ready:!0}},[a,r,e,i]);return{top:m,left:x,ready:d}}function H({containerRef:t,imageSrc:s,normX:e,normY:i,dotId:a,className:n,...r}){const l=w({containerRef:t,imageSrc:s,normX:e,normY:i}),[E,m]=p.useState(null);p.useEffect(()=>{l&&typeof l.top=="number"&&typeof l.left=="number"&&m({top:l.top,left:l.left})},[l?.top,l?.left]);const x=l??E,d=!!x,y=d?x.top:-99999,o=d?x.left:-99999,u=[n,d?"":"opacity-0 pointer-events-none"].filter(Boolean).join(" ");return F.jsx(T,{...r,dotId:a,top:y,left:o,className:u,"aria-hidden":d?void 0:!0})}function c(t){t&&(t.style.zIndex="",t.style.pointerEvents="",t.style.transitionProperty="",t.style.transitionDuration="",t.style.transitionTimingFunction="",t.style.transformOrigin="",t.style.transform="",t.style.opacity="",t.style.willChange="",t.style.filter="",t.style.backfaceVisibility="",t.style.transformStyle="",t.style.contain="",t.style.isolation="",t.classList.remove("translate-x-0","translate-x-full","-translate-x-full","opacity-0","opacity-100"))}function b(t,s,e){if(!t){e?.();return}let i=!1;const a=n=>{i||n&&n.target!==t||(i=!0,t.removeEventListener("transitionend",a),e?.())};t.addEventListener("transitionend",a),setTimeout(()=>a(),Math.max(50,s+50))}function h(t,s){t&&(t.style.willChange=s,t.style.backfaceVisibility="hidden",t.style.transformStyle="preserve-3d",t.style.contain="paint",t.style.isolation="isolate")}function P({fromRef:t,toRef:s,onDone:e,durationMs:i=900,easing:a="cubic-bezier(0.22,1,0.36,1)",distance:n="-100%",fade:r=!1}){if(!t||!s){e?.();return}t.classList.remove("hidden"),t.style.zIndex="0",t.style.pointerEvents="none",t.style.transform="translate3d(0,0,0)",t.style.opacity="1",s.classList.remove("hidden"),s.style.zIndex="20",s.style.pointerEvents="none",h(s,"transform, opacity"),s.style.transitionProperty="transform, opacity",s.style.transitionDuration=`${i}ms`,s.style.transitionTimingFunction=a,s.style.transform=`translate3d(${n},0,0)`,s.style.opacity=r?"0":"1",s.getBoundingClientRect(),requestAnimationFrame(()=>{s.style.transform="translate3d(0,0,0)",r&&(s.style.opacity="1")}),b(s,i,()=>{t.classList.add("hidden"),c(t),c(s),s.style.pointerEvents="auto",e?.()})}function O({fromRef:t,toRef:s,onDone:e,durationMs:i=900,easing:a="cubic-bezier(0.22,1,0.36,1)",fade:n=!0,distance:r="100%"}){if(!t||!s){e?.();return}s.classList.remove("hidden"),s.style.zIndex="0",s.style.pointerEvents="none",s.style.transform="translate3d(0,0,0)",s.style.opacity="1",t.classList.remove("hidden"),t.style.zIndex="20",t.style.pointerEvents="none",h(t,"transform, opacity"),t.style.transitionProperty="transform, opacity",t.style.transitionDuration=`${i}ms`,t.style.transitionTimingFunction=a,t.style.transform="translate3d(0,0,0)",t.style.opacity="1",t.getBoundingClientRect(),requestAnimationFrame(()=>{t.style.transform=`translate3d(${r},0,0)`,n&&(t.style.opacity="0")}),b(t,i,()=>{t.classList.add("hidden"),c(t),c(s),s.style.pointerEvents="auto",e?.()})}function j({fromRef:t,toRef:s,onDone:e,focal:i={x:50,y:50},scaleTo:a=.35,durationMs:n=900,easing:r="cubic-bezier(0.22,1,0.36,1)",blurPx:l=4}){if(!t||!s){e?.();return}s.classList.remove("hidden"),s.style.zIndex="0",s.style.pointerEvents="none",t.classList.remove("hidden"),t.style.zIndex="20",t.style.pointerEvents="none",h(t,"transform, opacity, filter"),t.style.transitionProperty="transform, opacity, filter",t.style.transitionDuration=`${n}ms`,t.style.transitionTimingFunction=r,t.style.transformOrigin=`${i.x}% ${i.y}%`,t.style.transform="scale3d(1,1,1)",t.style.opacity="1",t.style.filter="blur(0px)",t.getBoundingClientRect(),requestAnimationFrame(()=>{t.style.transform=`scale3d(${a},${a},1)`,t.style.opacity="0",t.style.filter=`blur(${l}px)`}),b(t,n,()=>{t.classList.add("hidden"),c(t),c(s),s.style.pointerEvents="auto",e?.()})}function A({fromRef:t,toRef:s,onDone:e,focal:i={x:50,y:50},scaleFrom:a=.35,durationMs:n=900,easing:r="cubic-bezier(0.22,1,0.36,1)",blurPx:l=4}){if(!t||!s){e?.();return}s.classList.remove("hidden"),s.style.zIndex="20",s.style.pointerEvents="none",h(s,"transform, opacity, filter"),s.style.transitionProperty="transform, opacity, filter",s.style.transitionDuration=`${n}ms`,s.style.transitionTimingFunction=r,s.style.transformOrigin=`${i.x}% ${i.y}%`,s.style.transform=`scale3d(${a},${a},1)`,s.style.opacity="0",s.style.filter=`blur(${l}px)`,t.classList.remove("hidden"),t.style.zIndex="0",t.style.pointerEvents="none",t.style.transform="scale3d(1,1,1)",t.style.opacity="1",t.style.filter="blur(0px)",s.getBoundingClientRect(),requestAnimationFrame(()=>{s.style.transform="scale3d(1,1,1)",s.style.opacity="1",s.style.filter="blur(0px)"}),b(s,n,()=>{t.classList.add("hidden"),c(t),c(s),s.style.pointerEvents="auto",e?.()})}function q({fromRef:t,toRef:s,onDone:e,durationMs:i=1300,easing:a="cubic-bezier(0.22,1,0.36,1)",withBlur:n=!1,blurPx:r=2}){if(!t||!s){e?.();return}s.classList.remove("hidden"),s.style.zIndex="0",s.style.pointerEvents="none",h(s,n?"opacity, filter, transform":"opacity, transform"),s.style.transitionProperty=n?"opacity, filter, transform":"opacity, transform",s.style.transitionDuration=`${i}ms`,s.style.transitionTimingFunction=a,s.style.transform="translate3d(0,0,0)",s.style.opacity="0",n&&(s.style.filter=`blur(${r}px)`),t.classList.remove("hidden"),t.style.zIndex="20",t.style.pointerEvents="none",h(t,n?"opacity, filter, transform":"opacity, transform"),t.style.transitionProperty=n?"opacity, filter, transform":"opacity, transform",t.style.transitionDuration=`${i}ms`,t.style.transitionTimingFunction=a,t.style.transform="translate3d(0,0,0)",t.style.opacity="1",n&&(t.style.filter="blur(0px)"),t.getBoundingClientRect(),requestAnimationFrame(()=>{s.style.opacity="1",t.style.opacity="0",n&&(s.style.filter="blur(0px)",t.style.filter=`blur(${r}px)`)}),b(t,i,()=>{t.classList.add("hidden"),c(t),c(s),s.style.pointerEvents="auto",e?.()})}const N=Object.freeze(Object.defineProperty({__proto__:null,crossFade:q,slideIn:P,slideOut:O,zoomIn:A,zoomOut:j},Symbol.toStringTag,{value:"Module"}));export{H as P,N as T};
